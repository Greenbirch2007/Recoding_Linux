
第１０章　使用编辑器


１０．１　vim编辑器


１０．１．１　　检查vim软件包

１０．１.2  vim基础

vim编辑器在内存缓冲区中处理数据。只要键入vim命令和要编辑的文件名就可以启动vim编辑器


vim myprog.c

如在启动vim时未指定文件名，或这个文件不存在，vim会开辟一段新的缓冲区域来编辑。
如果你在命令行下指定了一个已有文件的名字，vim会将这个文件的整个内容都读到一块缓冲区域来准备编辑


vim编辑器会检测会话终端的类型，并用全屏模式将整个控制台窗口作为编辑器区域

最初的vim编辑窗口显示了文件的内容,并在窗口的底部显示了一条消息行。如果文件内容并未占据整个屏幕，vim会在非文件内容行放置一个波浪行


底部的消息行根据文件的状态以及vim安装时的默认设置显示了所编辑文件的信息。如果文件是新建的，会出现消息[New File]

vim编辑器有两种操作模式：
１．普通模式
２．插入模式


当刚打开要编辑的文件时(或新建一个文件时),vim编辑器会进入普通模式。
在普通模式中，vim编辑器会将按键解释成命令

在插入模式下，vim会将你在当前光标位置输入的每个键都插入到缓冲区。按下i键就可以进入插入模式。要退出插入模式回到普通模式，按下键盘的退出键(ESC键)

在普通模式中，可以用方向键在文本区域移动光标(只要vim能正确识别你的终端类型)

在普通模式中
h:左移一个字符
j:　下移一行(文本中的下一行)
k:上移一行(文本中的上一行)
l:右移一个字符

PagDown(或Ctrl+F):下翻一屏
PageUp(或Ctrl+B):上翻一屏
Ｇ:移动到缓冲区的最后一行
num G:移动到缓冲区中的第num行
gg:移动到缓冲区的第一行

vim编辑器在普通模式下有一个特别的功能叫做命令行模式。命令行模式提供了一个交互命令行，可以输入额外的命令来控制vim的行为。要进入命令行模式，在普通模式下按下冒号键。
光标会移动到消息行，然后出现冒号，等待输入命令


在命令行模式下有几个命令可以将缓冲区的数据保存到文件中并退出vim

1.q : 如果未修改缓冲区数据，退出
２．　q! : 取消所有对缓冲区数据的修改并退出
3. W filename:将文件保存到另一个文件中
4. wq : 将缓冲区数据保存到文件中并退出

10.1.3  编辑数据

在插入模式中，你可以向缓冲区插入数据。然而有时将数据输入到缓冲区中后，你需要对对其进行添加或删除。
在普通模式下，vim编辑器提供了一些命令来编辑缓冲区中的数据


１０．１．４　　复制和粘贴

主要功能：剪切或复制数据，然后粘贴在文本的其他地方


删除数据

vim会将数据保存在单独的一个寄存器中，可以用p命令取回数据

可以用dd命令删除一行文本，然后把光标移动到缓冲区的某个要放置改行文本的位置，然后用p命令。
该命令将文本插入到当前光标所在行之后。可以将它和任何删除文本的命令一起搭配使用

复制文本

vim复制命令是y(代表yank).可以在y后面使用和d命令相同的第二字符(yw表示复制一个单词，y$表示复制到行尾)。在复制文本后，把光标移动到你想放置文本的地方，输入p命令。


可视模式会在你移动光标时高亮显示文本。可以用可视模式选取要复制的文本。
可以用可视模式选取要复制的文本。要进入可视模式，应移动光标开始的复制的位置，并按下v键。你会注意到光标所在位置的文本已经被高亮显示了。

下一步，移动光标来覆盖你想要复制的文本(甚至可以向下移动几行来复制更多航的文本)
在移动光标时，vim会高亮显示复制区域的文本。在覆盖了要复制的文本后，按y键来激活复制命令。现在寄存器中已经有了要复制的文本，移动光标到你要放置的位置，使用p命令来粘贴




v 复制(可视模式)
y：激活
ｐ: 粘贴


１０．１．５　　查找和替换

可以使用vim查找命令来轻松查找缓冲区中的数据。要输入一个查找字符串，就按下划线(/)键。
光标会跑到消息行，然后vim会显示初斜线。在输入你要查找的文本后，暗笑回车键。

vim编辑器会采用以下三种回应中的一种

１．如果要查找的文本出现在光标当前的位置之后，则光标会跳到文本出现的第一个位置
２．如果要查找的文本未在光标当前位置之后出现，则光标会绕过文件末尾，出现在该文本所在的第一个位置(并用一条消息指明)
３．　输出一条错误消息，说明在文件中没有找到要查找的文本


要继续查找同一个单词，安下划线键，然后按回车键。或使用n键，表示下一个(next)
替换命令允许你快速用另一个单词来替换文本中的某个单词。必须进入命令行模式才能使用替换。替换命令的格式是：

:s/old/new.

vim编辑器会跳到old第一次出现的地方，并用new来替换。可以对替换命令做一些修改来替换多出文本


